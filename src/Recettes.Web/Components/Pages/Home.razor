@page "/"
@inject RecettesApiClient RecettesApiClient

<PageTitle>Home</PageTitle>

@if (recipes is null)
{
    <p>Loading recipes...</p>
}
else
{
    <FluentGrid AdaptiveRendering="true" Justify="JustifyContent.FlexStart" >
        @foreach (var recipe in recipes)
        {
            <FluentGridItem xs="12" sm="6" md="3" lg="2">
                <a href="recipe/@recipe.Id">
                    <RecipeCard Recipe="recipe" />
                </a>
            </FluentGridItem>
        }
    </FluentGrid>
}

@code {

    IEnumerable<Recipe>? recipes;

    protected override async Task OnInitializedAsync()
    {
        recipes = await RecettesApiClient.GetRecipesAsync();
    }
}